# pagarme-sre

## Requirements

- [Python 3.9](https://www.python.org)
- [Django 4.0.3](https://www.djangoproject.com/)
- [Prometheus](https://prometheus.io/)
- [Grafana](https://grafana.com/)
- [Docker](https://www.docker.com)
- [Docker Compose 3.8](https://docs.docker.com/compose/)
- [Git](https://git-scm.com/)


## Development

### Run project with Docker:

Go to the terminal where the project root is and enter this command.

```
docker-compose up
```

But, if you want to run the project and release the terminal, you can use this command.

```
docker-compose up -d
```


## Random Information API

### View the API

After running docker, the api will be available to be seen in the browser.
Just access this endpoint:

```
http://localhost:8000/
```

And to see the metrics of this API, generated by Prometheus, just access this endpoint:

```
http://localhost:8000/metrics
```


## Prometheus

### View the Metrics

API metrics can be seen in more organized and resourceful ways, and can be seen in Prometheus through this endpoint:

```
http://localhost:9090/targets
```


## Grafana

### View the Metrics

The metrics of an API can be measured by Promotheus. However, its dashboard is not as intuitive and does not have as many features as Grafana. Therefore, it is interesting to use it to present the metrics obtained in Prometheus.

Grafana is available on this endpoint:

```
http://localhost:3000
```

### Access to Grafana

Grafana has greater security over data than Prometheus. You need to follow these steps to access the metrics:

    - User: admin
    - Password: admin
    - You can skip the step of changing password
    - The third icon of the left menu is Dashboards
    - Choose "Browse"
    - Then click at Requests dashboard
